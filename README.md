# è¥é”€æ´»åŠ¨è‡ªåŠ¨åŒ–å¹³å° (Marketing Automation)

> TDD å®æˆ˜è®­ç»ƒé¡¹ç›® - ä½¿ç”¨æµ‹è¯•é©±åŠ¨å¼€å‘æ„å»ºè¥é”€è‡ªåŠ¨åŒ–ç³»ç»Ÿ

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨ **DDD åˆ†å±‚æ¶æ„**ï¼š

```
src/main/java/com/example/ma/
â”œâ”€â”€ interfaces/          # æ¥å£å±‚ - Controller, DTO
â”‚   â””â”€â”€ rest/           
â”œâ”€â”€ application/         # åº”ç”¨å±‚ - Application Service, Command, Query
â”‚   â””â”€â”€ campaign/       
â”œâ”€â”€ domain/              # é¢†åŸŸå±‚ - Entity, Value Object, Repository Interface
â”‚   â”œâ”€â”€ campaign/       # è¥é”€æ´»åŠ¨èšåˆ
â”‚   â”œâ”€â”€ audience/       # å—ä¼—äººç¾¤èšåˆ
â”‚   â””â”€â”€ common/         # å…¬å…±é¢†åŸŸæ¨¡å‹
â””â”€â”€ infrastructure/      # åŸºç¡€è®¾æ–½å±‚ - Repository å®ç°, MyBatis Mapper
    â””â”€â”€ persistence/    
```

### ä¾èµ–è§„åˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Interfaces                        â”‚
â”‚              (Controller, DTO)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ ä¾èµ–
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Application                        â”‚
â”‚           (Application Service)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ ä¾èµ–
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Domain                           â”‚
â”‚     (Entity, Value Object, Repository Interface)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–²
                      â”‚ å®ç°æ¥å£
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Infrastructure                      â”‚
â”‚          (Repository Impl, Mapper)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Java 21**
- **Spring Boot 3.2.0**
- **MyBatis Plus 3.5.5**
- **JUnit 5** - å•å…ƒæµ‹è¯•
- **ArchUnit 1.2.1** - æ¶æ„å®ˆæŠ¤æµ‹è¯•
- **H2** - æµ‹è¯•æ•°æ®åº“

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 21+
- Maven 3.8+
- MySQL 8.0+ (ç”Ÿäº§ç¯å¢ƒ)

### è¿è¡Œé¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®
cd marketing-automation

# è¿è¡Œæµ‹è¯•
mvn test

# è¿è¡Œæ¶æ„å®ˆæŠ¤æµ‹è¯•
mvn test -Dtest=*ArchitectureTest

# å¯åŠ¨åº”ç”¨
mvn spring-boot:run
```

## ğŸ§ª TDD å®è·µæŒ‡å—

### çº¢-ç»¿-é‡æ„å¾ªç¯

1. **ğŸ”´ Red** - ç¼–å†™ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•
2. **ğŸŸ¢ Green** - ç¼–å†™æœ€å°‘çš„ä»£ç è®©æµ‹è¯•é€šè¿‡
3. **ğŸ”µ Refactor** - åœ¨æµ‹è¯•ä¿æŠ¤ä¸‹é‡æ„ä»£ç 

### æ¶æ„å®ˆæŠ¤æµ‹è¯•

æœ¬é¡¹ç›®åŒ…å«ä»¥ä¸‹æ¶æ„å®ˆæŠ¤æµ‹è¯•ï¼š

| æµ‹è¯•ç±» | æè¿° |
|--------|------|
| `DddLayerArchitectureTest` | DDD åˆ†å±‚ä¾èµ–è§„åˆ™ |
| `NamingConventionTest` | å‘½åè§„èŒƒæ£€æŸ¥ |
| `CodingRulesTest` | ç¼–ç è§„èŒƒæ£€æŸ¥ |

è¿è¡Œæ¶æ„æµ‹è¯•ï¼š

```bash
mvn test -Dtest=com.example.ma.architecture.*
```

## ğŸ“Š PPT åŸ¹è®­ææ–™

åŸ¹è®­ PPT ä½äº `docs/slides/` ç›®å½•ï¼Œä½¿ç”¨ [Slidev](https://sli.dev/) æ„å»ºã€‚

```bash
cd docs/slides
npm install
npm run dev
```

## ğŸ“ License

MIT License
